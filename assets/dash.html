<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Unified Services Dashboard</title>
    <style>
      /* Base styles */
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        background-color: #f0f0f0;
      }

      /* Navigation bar */
      .nav-bar {
        background-color: #333;
        padding: 1rem;
        display: flex;
        gap: 1rem;
        position: fixed;
        top: 0;
        width: 100%;
        box-sizing: border-box;
        z-index: 1000;
      }

      .nav-button {
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 4px;
        background-color: #555;
        color: white;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .nav-button:hover {
        background-color: #666;
      }

      .nav-button.active {
        background-color: #4caf50;
      }

      /* Content area */
      .content {
        margin-top: 4rem;
        height: calc(100vh - 4rem);
      }

      .iframe-container {
        width: 100%;
        height: 100%;
        display: none;
      }

      .iframe-container.active {
        display: block;
      }

      iframe {
        width: 100%;
        height: 100%;
        border: none;
      }

      /* Icons */
      .icon {
        width: 1rem;
        height: 1rem;
      }

      /* Add these styles to your existing CSS */
      .iframe-error {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100%;
        background-color: #f8f9fa;
        padding: 2rem;
        text-align: center;
      }

      .iframe-error a {
        margin-top: 1rem;
        padding: 0.5rem 1rem;
        background-color: #4caf50;
        color: white;
        text-decoration: none;
        border-radius: 4px;
      }

      .iframe-error a:hover {
        background-color: #45a049;
      }
    </style>
  </head>
  <body>
    <div class="nav-bar">
      <button class="nav-button" data-target="surrealist">
        <svg class="icon" viewBox="0 0 24 24">
          <path
            fill="currentColor"
            d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"
          />
        </svg>
        Surrealist
      </button>
      <button class="nav-button" data-target="chat">
        <svg class="icon" viewBox="0 0 24 24">
          <path
            fill="currentColor"
            d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"
          />
        </svg>
        RAG Chat
      </button>
      <button class="nav-button" data-target="inspector">
        <svg class="icon" viewBox="0 0 24 24">
          <path
            fill="currentColor"
            d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
          />
        </svg>
        Inspector
      </button>
      <button class="nav-button" data-target="minio">
        <svg class="icon" viewBox="0 0 24 24">
          <path
            fill="currentColor"
            d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"
          />
        </svg>
        MinIO
      </button>
    </div>

    <div class="content">
      <div class="iframe-container" id="surrealist-container">
        <div class="iframe-error">
          <p>Unable to load Surrealist - External embedding not allowed</p>
          <a href="https://surrealist.app/explorer" target="_blank"
            >Open in new tab</a
          >
        </div>
      </div>
      <div class="iframe-container" id="chat-container">
        <iframe src="../tools/rag_server/templates/rag_chat.html"></iframe>
      </div>
      <div class="iframe-container" id="inspector-container">
        <iframe src="http://localhost:5173"></iframe>
      </div>
      <div class="iframe-container" id="minio-container">
        <div class="iframe-error">
          <p>Unable to load MinIO - External embedding not allowed</p>
          <a href="http://localhost:9001" target="_blank">Open in new tab</a>
        </div>
      </div>
    </div>

    <script>
      // Handle tab switching
      document.querySelectorAll(".nav-button").forEach((button) => {
        button.addEventListener("click", () => {
          // Update button states
          document
            .querySelectorAll(".nav-button")
            .forEach((b) => b.classList.remove("active"));
          button.classList.add("active");

          // Update iframe visibility
          document
            .querySelectorAll(".iframe-container")
            .forEach((container) => {
              container.classList.remove("active");
            });
          document
            .getElementById(`${button.dataset.target}-container`)
            .classList.add("active");
        });
      });

      // Activate first tab by default
      document.querySelector(".nav-button").click();
    </script>
  </body>
</html>
